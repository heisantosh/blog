<header class="site-header">
  <h1 class="site-title">
    <a href="{{ .Site.BaseURL }}" class="logo-link">
      <div class="logo-text">{{ .Site.Title }}</div>
      <svg class="delay-line-icon" viewBox="0 0 160 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <!-- Tube Outline -->
        <rect x="0.5" y="0.5" width="159" height="13" rx="4" stroke="currentColor" stroke-opacity="0.2" stroke-width="1"/>
        <!-- Signal Trace: Pulse train -->
        <path d="M5 7 H 30 V 4 H 36 V 7 H 50 V 10 H 56 V 7 H 90 V 4 H 96 V 7 H 110 V 10 H 116 V 7 H 155" stroke="currentColor" stroke-width="1.5" class="signal-trace"/>
        <!-- Transducers (Piezo crystals) at ends -->
        <rect x="2" y="3" width="3" height="8" fill="currentColor" class="transducer"/>
        <rect x="155" y="3" width="3" height="8" fill="currentColor" class="transducer"/>
      </svg>
    </a>
  </h1>

  <nav class="site-nav">
    <a href="{{ "about/" | relURL }}">about</a>
    <a href="{{ "projects/" | relURL }}">projects</a>

    <!-- Theme Toggle Button (Lantern) -->
    <button class="theme-toggle" type="button" onclick="toggleTheme()" aria-label="Toggle dark mode" title="Toggle dark mode">
      <!-- Lantern ON (light mode) -->
      <svg class="lamp-on" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <!-- Roof -->
        <path d="M12 3l-7 4h14l-7-4z" />
        <!-- Finial -->
        <path d="M12 2v1" />
        <!-- Cage/Glass -->
        <path d="M5 7l2 11h10l2-11" />
        <!-- Base -->
        <path d="M12 18v4" />
        <path d="M9 22h6" />
        <!-- Light Source (Glow) -->
        <circle cx="12" cy="13" r="3" fill="currentColor" stroke="none" opacity="0.8" />
        <!-- Rays (Shining) -->
        <path d="M12 10v-1" />
        <path d="M12 16v1" />
        <path d="M9 13h-1" />
        <path d="M15 13h1" />
        <path d="M10 11l-1-1" />
        <path d="M14 11l1-1" />
        <path d="M10 15l-1 1" />
        <path d="M14 15l1 1" />
      </svg>
      <!-- Lantern OFF (dark mode) -->
      <svg class="lamp-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <!-- Roof -->
        <path d="M12 3l-7 4h14l-7-4z" />
        <!-- Finial -->
        <path d="M12 2v1" />
        <!-- Cage/Glass -->
        <path d="M5 7l2 11h10l2-11" />
        <!-- Base -->
        <path d="M12 18v4" />
        <path d="M9 22h6" />
        <!-- Light Source (Off) -->
        <circle cx="12" cy="13" r="2" />
      </svg>
    </button>
  </nav>
</header>

<script>
  function toggleTheme() {
    var html = document.documentElement;
    var currentTheme = html.getAttribute('data-theme');
    var newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    html.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
  }

  // Random computer-themed title symbol (only when mode is "random")
  // Symbols inspired by computing history:
  //   λ  - Lambda calculus (Church, Turing)
  //   ⊕  - XOR gate (logic circuits)
  //   ¬  - NOT gate (boolean logic)
  //   ▮  - Block cursor (terminals)
  //   Δ  - Delta/change (state machines)
  //   ⬚  - Empty register (memory)
  //   ◊  - Decision (flowcharts)
  //   »  - Bit shift (assembly)
  (function() {
    var symbol = document.querySelector('.title-symbol');
    if (symbol && symbol.getAttribute('data-mode') === 'random') {
      var symbols = ['λ', '⊕', '¬', '▮', 'Δ', '⬚', '◊', '»'];
      symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
    }
  })();
</script>
